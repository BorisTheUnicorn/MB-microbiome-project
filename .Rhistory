getwd()
knitr::opts_chunk$set(
echo = TRUE,
warning = FALSE,
message = FALSE,
fig.width = 10,
fig.height = 6
)
# Core packages
library(vegan)
library(ggplot2)
library(patchwork)
library(microbiome)
library(phyloseq)
library(qiime2R)
library(microeco)
library(dplyr)
library(tidyverse)
library(magrittr)
library(sva)
library(GUniFrac)
library(DT)
# Source function files from the R directory
source(file.path("R", "preprocessing_functions.R"))
# Source function files from the R directory
source(file.path("..", "R", "preprocessing_functions.R"))
# Source function files from the R directory
sapply(list.files(file.path("..", "R"), pattern = "\\.R$", full.names = TRUE), source)
source(file.path("..", "R", "preprocessing_functions.R"))
source(file.path("..", "R", "visualization_functions.R"))
source(file.path("..", "R", "differential_abundance.R"))
source(file.path("..", "R", "differential_abundance.R"))
# Check if any functions were successfully loaded
if(exists("import_qiime2_data") && exists("correct_batch_effect") && exists("classify_carriage_status")) {
cat("Functions successfully loaded.\n")
} else {
cat("Warning: Some functions may not have loaded correctly. Please check file paths.\n")
}
# Define paths to input files
metadata_path <- "data/raw/00.metadata.combined.2020_2021.tsv"
feature_table_path <- "data/raw/table-dada2.qza"
taxonomy_path <- "data/raw/taxonomy-dada2.qza"
tree_path <- "data/raw/rooted-tree-dada2.qza"
# Import data and create the microtable dataset
dataset <- import_qiime2_data(
metadata_path = metadata_path,
feature_table_path = feature_table_path,
taxonomy_path = taxonomy_path,
tree_path = tree_path
)
setwd("..")
getwd()
# Define paths to input files
metadata_path <- "data/raw/00.metadata.combined.2020_2021.tsv"
feature_table_path <- "data/raw/table-dada2.qza"
taxonomy_path <- "data/raw/taxonomy-dada2.qza"
tree_path <- "data/raw/rooted-tree-dada2.qza"
# Import data and create the microtable dataset
dataset <- import_qiime2_data(
metadata_path = metadata_path,
feature_table_path = feature_table_path,
taxonomy_path = taxonomy_path,
tree_path = tree_path
)
# Define paths to input files
metadata_path <- file.path("data", "raw", "00.metadata.combined.2020_2021.tsv")
feature_table_path <- file.path("data", "raw", "table-dada2.qza")
taxonomy_path <- file.path("data", "raw", "taxonomy-dada2.qza")
tree_path <- file.path("data", "raw", "rooted-tree-dada2.qza")
# Import data and create the microtable dataset
dataset <- import_qiime2_data(
metadata_path = metadata_path,
feature_table_path = feature_table_path,
taxonomy_path = taxonomy_path,
tree_path = tree_path
)
